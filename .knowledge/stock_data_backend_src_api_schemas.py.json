{"is_source_file": true, "format": "Python", "description": "This file defines Pydantic models and enums used for request validation and response structuring for stock growth analysis API endpoints. It includes data validation logic, enums for supported fields, and data classes for encapsulating request parameters and analysis results.", "external_files": ["datetime", "enum", "typing", "pydantic"], "external_methods": ["model_validator"], "published": ["PriceField", "AnalyzeGrowthRequest", "GrowthResult", "AnalyzeGrowthResponse"], "classes": [{"name": "PriceField", "description": "Enum representing supported price fields for growth calculation, such as 'close', 'adj_close', and 'open'."}, {"name": "AnalyzeGrowthRequest", "description": "Data model for incoming API request payload to initiate growth analysis, including validation logic."}, {"name": "GrowthResult", "description": "Data model representing a single stock's growth analysis result."}, {"name": "AnalyzeGrowthResponse", "description": "Data model for the API response payload containing the analysis results and global warnings."}], "methods": [{"name": "validate_dates_and_tickers(self)", "description": "Post-validation method on AnalyzeGrowthRequest to ensure date ranges, limit, and tickers are properly configured.", "scope": "AnalyzeGrowthRequest", "scopeKind": "class"}], "calls": ["pydantic.model_validator"], "search-terms": ["growth analysis", "ticker validation", "price field enum", "pydantic models for API"], "state": 2, "file_id": 6, "knowledge_revision": 22, "git_revision": "dc3e57ae9bbdaaec34dc98e637c39ebeccca0b98", "revision_history": [{"13": ""}, {"22": "dc3e57ae9bbdaaec34dc98e637c39ebeccca0b98"}], "ctags": [{"_type": "tag", "name": "AnalyzeGrowthRequest", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^class AnalyzeGrowthRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "AnalyzeGrowthResponse", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^class AnalyzeGrowthResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GrowthResult", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^class GrowthResult(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PriceField", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^class PriceField(str, Enum):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "abs_return", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    abs_return: Optional[float] = Field(None, description=\"Absolute return (end_price - start_pr/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "GrowthResult", "scopeKind": "class"}, {"_type": "tag", "name": "adj_close", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    adj_close = \"adj_close\"$/", "language": "Python", "kind": "variable", "scope": "PriceField", "scopeKind": "class"}, {"_type": "tag", "name": "close", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    close = \"close\"$/", "language": "Python", "kind": "variable", "scope": "PriceField", "scopeKind": "class"}, {"_type": "tag", "name": "end_date", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    end_date: date = Field(..., description=\"End date for analysis (YYYY-MM-DD).\")$/", "language": "Python", "typeref": "typename:date", "kind": "variable", "scope": "AnalyzeGrowthRequest", "scopeKind": "class"}, {"_type": "tag", "name": "end_date_effective", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    end_date_effective: Optional[date] = Field(None, description=\"The date of the last data poin/", "language": "Python", "typeref": "typename:Optional[date]", "kind": "variable", "scope": "GrowthResult", "scopeKind": "class"}, {"_type": "tag", "name": "end_price", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    end_price: Optional[float] = Field(None, description=\"Price at end_date_effective for the se/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "GrowthResult", "scopeKind": "class"}, {"_type": "tag", "name": "growth_pct", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    growth_pct: Optional[float] = Field(None, description=\"Percentage growth between start and e/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "GrowthResult", "scopeKind": "class"}, {"_type": "tag", "name": "limit", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    limit: int = Field(10, description=\"Maximum number of results to return, sorted by growth pe/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "AnalyzeGrowthRequest", "scopeKind": "class"}, {"_type": "tag", "name": "max_growth_pct", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    max_growth_pct: Optional[float] = Field(None, description=\"Optional maximum growth percentag/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "AnalyzeGrowthRequest", "scopeKind": "class"}, {"_type": "tag", "name": "min_growth_pct", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    min_growth_pct: Optional[float] = Field(None, description=\"Optional minimum growth percentag/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "AnalyzeGrowthRequest", "scopeKind": "class"}, {"_type": "tag", "name": "open", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    open = \"open\"$/", "language": "Python", "kind": "variable", "scope": "PriceField", "scopeKind": "class"}, {"_type": "tag", "name": "points_count", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    points_count: int = Field(0, description=\"Number of data points available in the period.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "GrowthResult", "scopeKind": "class"}, {"_type": "tag", "name": "price_field", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    price_field: Optional[PriceField] = Field(PriceField.close, description=\"Which price field t/", "language": "Python", "typeref": "typename:Optional[PriceField]", "kind": "variable", "scope": "AnalyzeGrowthRequest", "scopeKind": "class"}, {"_type": "tag", "name": "provider_symbol", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    provider_symbol: str = Field(..., description=\"The symbol used for provider fetch (e.g., aap/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "GrowthResult", "scopeKind": "class"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    results: List[GrowthResult] = Field(..., description=\"Sorted results, by growth_pct desc.\")$/", "language": "Python", "typeref": "typename:List[GrowthResult]", "kind": "variable", "scope": "AnalyzeGrowthResponse", "scopeKind": "class"}, {"_type": "tag", "name": "start_date", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    start_date: date = Field(..., description=\"Start date for analysis (YYYY-MM-DD).\")$/", "language": "Python", "typeref": "typename:date", "kind": "variable", "scope": "AnalyzeGrowthRequest", "scopeKind": "class"}, {"_type": "tag", "name": "start_date_effective", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    start_date_effective: Optional[date] = Field(None, description=\"The date of the first data p/", "language": "Python", "typeref": "typename:Optional[date]", "kind": "variable", "scope": "GrowthResult", "scopeKind": "class"}, {"_type": "tag", "name": "start_price", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    start_price: Optional[float] = Field(None, description=\"Price at start_date_effective for th/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "GrowthResult", "scopeKind": "class"}, {"_type": "tag", "name": "ticker", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    ticker: str = Field(..., description=\"Input ticker symbol as provided in the request.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "GrowthResult", "scopeKind": "class"}, {"_type": "tag", "name": "tickers", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    tickers: Optional[List[str]] = Field(None, description=\"List of stock tickers to analyze (e./", "language": "Python", "typeref": "typename:Optional[List[str]]", "kind": "variable", "scope": "AnalyzeGrowthRequest", "scopeKind": "class"}, {"_type": "tag", "name": "universe", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    universe: Optional[str] = Field(\"NASDAQ\", description=\"Universe to screen when tickers are n/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "AnalyzeGrowthRequest", "scopeKind": "class"}, {"_type": "tag", "name": "validate_dates_and_tickers", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    def validate_dates_and_tickers(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "AnalyzeGrowthRequest", "scopeKind": "class"}, {"_type": "tag", "name": "warning", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    warning: Optional[str] = Field(None, description=\"Warning message if data was missing or ins/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "GrowthResult", "scopeKind": "class"}, {"_type": "tag", "name": "warnings", "path": "/home/kavia/workspace/code-generation/stock-growth-analyzer-221696-221705/stock_data_backend/src/api/schemas.py", "pattern": "/^    warnings: List[str] = Field(default_factory=list, description=\"Global warnings encountered d/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "AnalyzeGrowthResponse", "scopeKind": "class"}], "hash": "61dd038a79d8b31fbc78edee26845a1d", "format-version": 4, "code-base-name": "stock_data_backend", "filename": "stock_data_backend/src/api/schemas.py", "fields": [{"name": "Optional[float] abs_return", "scope": "GrowthResult", "scopeKind": "class", "description": "unavailable"}, {"name": "adj_close = \"adj_close\"", "scope": "PriceField", "scopeKind": "class", "description": "unavailable"}, {"name": "close = \"close\"", "scope": "PriceField", "scopeKind": "class", "description": "unavailable"}, {"name": "date end_date", "scope": "AnalyzeGrowthRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[date] end_date_effective", "scope": "GrowthResult", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] end_price", "scope": "GrowthResult", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] growth_pct", "scope": "GrowthResult", "scopeKind": "class", "description": "unavailable"}, {"name": "int limit", "scope": "AnalyzeGrowthRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] max_growth_pct", "scope": "AnalyzeGrowthRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] min_growth_pct", "scope": "AnalyzeGrowthRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "open = \"open\"", "scope": "PriceField", "scopeKind": "class", "description": "unavailable"}, {"name": "int points_count", "scope": "GrowthResult", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[PriceField] price_field", "scope": "AnalyzeGrowthRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str provider_symbol", "scope": "GrowthResult", "scopeKind": "class", "description": "unavailable"}, {"name": "List[GrowthResult] results", "scope": "AnalyzeGrowthResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "date start_date", "scope": "AnalyzeGrowthRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[date] start_date_effective", "scope": "GrowthResult", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] start_price", "scope": "GrowthResult", "scopeKind": "class", "description": "unavailable"}, {"name": "str ticker", "scope": "GrowthResult", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[List[str]] tickers", "scope": "AnalyzeGrowthRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] universe", "scope": "AnalyzeGrowthRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] warning", "scope": "GrowthResult", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] warnings", "scope": "AnalyzeGrowthResponse", "scopeKind": "class", "description": "unavailable"}]}